# Research: Module 1 – The Robotic Nervous System (ROS 2)

**Feature**: 001-ros2-module
**Date**: 2025-12-16
**Purpose**: Resolve technical decisions for Docusaurus setup and ROS 2 content structure

## Research Topics

### 1. Docusaurus Project Initialization

**Decision**: Use Docusaurus 3.x with classic preset and TypeScript configuration

**Rationale**:
- Docusaurus 3.x is the current stable version with active maintenance
- Classic preset includes docs, blog, and pages plugins out of the box
- TypeScript configuration provides better IDE support and type checking
- Markdown (.md) files are fully supported without MDX requirement

**Alternatives Considered**:
- Docusaurus 2.x: Older version, missing latest features and security patches
- VitePress: Vue-based, smaller ecosystem for documentation
- GitBook: Proprietary, less customization flexibility

**Implementation**:
```bash
npx create-docusaurus@latest textbook classic --typescript
```

**Configuration Requirements**:
- `docusaurus.config.ts`: Site metadata, theme configuration
- `sidebars.ts`: Navigation structure for docs
- GitHub Pages deployment configuration

---

### 2. Sidebar and Navigation Structure

**Decision**: Use autogenerated sidebars with category metadata files

**Rationale**:
- `_category_.json` files provide clear module/chapter organization
- Autogeneration reduces maintenance burden as content grows
- Position ordering via frontmatter or category files
- Supports collapsible sections for modules

**Alternatives Considered**:
- Manual sidebar configuration: More control but higher maintenance
- Flat file structure: Simpler but poor organization at scale

**Implementation**:
```json
// docs/module-1-ros2/_category_.json
{
  "label": "Module 1: The Robotic Nervous System",
  "position": 1,
  "collapsible": true,
  "collapsed": false,
  "link": {
    "type": "doc",
    "id": "module-1-ros2/index"
  }
}
```

---

### 3. Content File Format

**Decision**: Standard Markdown (.md) with YAML frontmatter

**Rationale**:
- User explicitly requested `.md` files (not MDX)
- YAML frontmatter for metadata (title, sidebar_position, description)
- Code blocks with syntax highlighting via Prism
- Admonitions (:::note, :::tip, :::warning) supported in Docusaurus Markdown

**Alternatives Considered**:
- MDX: More powerful but adds complexity; not requested
- RST: Not natively supported by Docusaurus

**Frontmatter Template**:
```yaml
---
sidebar_position: 1
title: "Chapter 1: ROS 2 Fundamentals"
description: "Understanding ROS 2 architecture, nodes, topics, services, and actions"
---
```

---

### 4. ROS 2 Version Target

**Decision**: ROS 2 Humble Hawksbill (LTS)

**Rationale**:
- Humble is the current LTS release (supported until May 2027)
- Stable APIs suitable for educational content
- Wide community adoption and documentation
- Ubuntu 22.04 LTS compatibility

**Alternatives Considered**:
- ROS 2 Iron: Newer but shorter support window
- ROS 2 Rolling: Unstable, not suitable for book content

**Source**: https://docs.ros.org/en/humble/

---

### 5. Code Example Organization

**Decision**: Separate `examples/` directory with chapter subdirectories

**Rationale**:
- Keeps docs clean while providing runnable examples
- Readers can clone and run examples directly
- Enables testing examples independently from documentation
- Clear mapping: `examples/module-1/chapter-2/` → Chapter 2 code

**Alternatives Considered**:
- Inline code only: Harder to test, no runnable repository
- Separate repository: Fragmented experience for readers

**Structure**:
```text
examples/
└── module-1/
    ├── chapter-1/
    │   └── ros2_workspace/
    │       └── src/
    │           └── hello_ros2/
    │               ├── package.xml
    │               ├── setup.py
    │               └── hello_ros2/
    │                   └── talker.py
    ├── chapter-2/
    │   ├── publisher_node.py
    │   ├── subscriber_node.py
    │   └── service_server.py
    └── chapter-3/
        ├── simple_robot.urdf
        └── humanoid_arm.urdf
```

---

### 6. Diagram Generation

**Decision**: Mermaid diagrams embedded in Markdown + static PNG for complex visuals

**Rationale**:
- Mermaid supported natively in Docusaurus via plugin
- Version-controllable (text-based diagrams)
- Static PNGs for complex robot visualizations (URDF trees)
- Accessible and printable

**Alternatives Considered**:
- All static images: Harder to maintain and update
- draw.io only: Requires external tool, not inline

**Plugin**: `@docusaurus/theme-mermaid`

---

### 7. GitHub Pages Deployment

**Decision**: GitHub Actions workflow with `peaceiris/actions-gh-pages`

**Rationale**:
- Automated deployment on push to main/master
- Standard approach for Docusaurus + GitHub Pages
- Free hosting for public repositories

**Workflow File**: `.github/workflows/deploy.yml`

---

## Resolved Clarifications

| Topic | Resolution | Source |
|-------|------------|--------|
| Docusaurus version | 3.x (latest stable) | Constitution: Technical Stack |
| Content format | Markdown (.md) | User input |
| ROS 2 version | Humble LTS | Spec assumptions |
| Sidebar structure | Autogenerated with _category_.json | Best practice research |

## Open Items

None - all technical decisions resolved.
