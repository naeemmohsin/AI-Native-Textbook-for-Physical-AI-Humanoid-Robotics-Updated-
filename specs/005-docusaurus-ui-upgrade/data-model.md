# Data Model: Docusaurus UI Upgrade

**Feature**: 005-docusaurus-ui-upgrade
**Date**: 2024-12-24

## Overview

This feature involves UI theming and layout changes. The "data model" consists of configuration structures and CSS variable definitions that control the visual presentation.

---

## Entity: Theme Configuration

### Description
Defines the color palette, typography, and spacing values used across the site in both light and dark modes.

### Structure

```typescript
interface ThemeConfig {
  colorMode: {
    defaultMode: 'light' | 'dark';
    disableSwitch: boolean;
    respectPrefersColorScheme: boolean;
  };

  colors: {
    primary: ColorPalette;      // 7 shades
    background: string;
    surface: string;
    text: {
      primary: string;
      secondary: string;
      muted: string;
    };
    border: string;
    codeBackground: string;
  };

  typography: {
    fontFamilyBase: string;
    fontFamilyMonospace: string;
    fontSizeBase: string;       // e.g., "18px"
    lineHeightBase: number;     // e.g., 1.6
    paragraphSpacing: string;   // e.g., "1rem"
  };

  layout: {
    containerWidth: string;     // e.g., "75ch"
    sidebarWidth: string;       // e.g., "300px"
    navbarHeight: string;       // e.g., "60px"
  };
}

interface ColorPalette {
  base: string;          // Main color
  dark: string;          // 10% darker
  darker: string;        // 20% darker
  darkest: string;       // 30% darker
  light: string;         // 10% lighter
  lighter: string;       // 20% lighter
  lightest: string;      // 30% lighter
}
```

### Validation Rules
- All color values must be valid CSS colors (hex, rgb, hsl)
- Primary color palette must maintain 4.5:1 contrast against background
- Font size base must be >= 16px
- Line height must be between 1.4 and 2.0

---

## Entity: Navigation Structure

### Description
Sidebar and navigation configuration inherited from existing `sidebars.ts`. No changes to structure, only visual styling.

### Current Structure
```typescript
// Existing configuration - preserved
const sidebars: SidebarsConfig = {
  bookSidebar: [{type: 'autogenerated', dirName: '.'}],
};
```

### Visual States (CSS-controlled)
| State | Visual Treatment |
|-------|------------------|
| Default | Normal weight, muted color |
| Hover | Primary color, slight background |
| Active (current) | Bold weight, primary color, left border indicator |
| Expanded | Visible children with indentation |
| Collapsed | Hidden children, expand icon |

---

## Entity: Homepage Components

### Description
React components that display book-specific content on the landing page.

### Hero Section
```typescript
interface HeroProps {
  title: string;           // "Physical AI & Robotics"
  tagline: string;         // Book subtitle
  ctaLabel: string;        // "Start Reading"
  ctaLink: string;         // "/docs/intro"
  backgroundStyle?: 'gradient' | 'solid' | 'image';
}
```

### Feature Card
```typescript
interface FeatureCardProps {
  title: string;           // Module name
  description: string;     // Brief module summary
  icon: ReactNode;         // SVG or emoji
  link: string;            // Module entry point
}
```

### Feature List (Homepage)
```typescript
const BookFeatures: FeatureCardProps[] = [
  {
    title: 'ROS 2 Fundamentals',
    description: 'Master robot operating system concepts and patterns',
    icon: <RobotIcon />,
    link: '/docs/module-1-ros2',
  },
  {
    title: 'NVIDIA Isaac',
    description: 'Build AI-powered robot brains with simulation',
    icon: <BrainIcon />,
    link: '/docs/module-3-nvidia-isaac',
  },
  {
    title: 'Vision-Language-Action',
    description: 'Integrate multimodal AI for robot control',
    icon: <VisionIcon />,
    link: '/docs/module-4-vla',
  },
];
```

---

## Entity: CSS Variable Interface

### Description
The contract between theme configuration and rendered styles. These variables are the API for styling customization.

### Core Variables

| Variable | Type | Default | Purpose |
|----------|------|---------|---------|
| `--ifm-color-primary` | color | #2e8555 | Primary brand color |
| `--ifm-color-primary-dark` | color | #29784c | Hover states |
| `--ifm-color-primary-light` | color | #33925d | Highlights |
| `--ifm-font-size-base` | length | 18px | Body text size |
| `--ifm-line-height-base` | number | 1.6 | Body line spacing |
| `--ifm-spacing-horizontal` | length | 1rem | Horizontal padding |
| `--ifm-spacing-vertical` | length | 1rem | Vertical padding |

### Dark Mode Variables

| Variable | Light Value | Dark Value |
|----------|-------------|------------|
| `--ifm-background-color` | #ffffff | #1b1b1d |
| `--ifm-font-color-base` | #1c1e21 | #e3e3e3 |
| `--ifm-color-primary` | #2563eb | #60a5fa |

---

## State Transitions

### Color Mode Toggle
```
User clicks toggle → localStorage updated → data-theme attribute changes → CSS variables swap
```

### Sidebar Navigation
```
User clicks category →
  if collapsed: expand and show children
  if expanded: collapse and hide children
Current page indicator always visible via active class
```

### Responsive Breakpoints
```
≥1200px: Full sidebar visible, content area sized
768-1199px: Sidebar collapsible, content fills space
<768px: Sidebar hidden, hamburger menu, full-width content
```

---

## Dependencies

| Entity | Depends On |
|--------|------------|
| Theme Configuration | docusaurus.config.ts themeConfig |
| Navigation Structure | sidebars.ts (unchanged) |
| Homepage Components | src/pages/index.tsx, src/components/ |
| CSS Variables | src/css/custom.css |
